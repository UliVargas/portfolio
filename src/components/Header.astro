---
// Header component con navegación y dark mode
import { Icon } from 'astro-icon/components';
---

<nav
	class="flex items-center justify-between px-3 sm:px-6 py-2.5 md:px-10 md:py-5 border-b-3 border-black dark:border-white relative z-20 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm"
>
	<a href="/" class="shrink-0">
		<img 
			src="/logo.svg" 
			alt="UVF Logo" 
			class="h-10 sm:h-12 md:h-16 w-auto rounded-lg"
			width="64"
			height="64"
			loading="eager"
			decoding="async"
		/>
	</a>

	<div class="hidden md:flex items-center space-x-8">
		<a
			href="#about"
			class="font-bold md:hover:underline decoration-2 underline-offset-4 decoration-primary dark:decoration-primary text-gray-800 dark:text-gray-200"
		>
			Sobre mí
		</a>
		<a
			href="#services"
			class="font-bold md:hover:underline decoration-2 underline-offset-4 decoration-primary dark:decoration-primary text-gray-800 dark:text-gray-200"
		>
			Servicios
		</a>
		<a
			href="#projects"
			class="font-bold md:hover:underline decoration-2 underline-offset-4 decoration-primary dark:decoration-primary text-gray-800 dark:text-gray-200"
		>
			Proyectos
		</a>
	</div>

	<div class="flex items-center gap-1.5 sm:gap-3 md:gap-4">
		<button
			id="theme-toggle"
			aria-label="Cambiar modo oscuro"
			class="p-1.5 sm:p-2 border-2 border-black dark:border-white rounded-full md:hover:bg-black md:hover:text-white dark:md:hover:bg-white dark:md:hover:text-black transition-colors flex items-center justify-center"
		>
			<Icon id="dark-icon" name="material-symbols:dark-mode" class="w-4 h-4 sm:w-5 sm:h-5 dark:hidden" />
			<Icon id="light-icon" name="material-symbols:light-mode" class="w-4 h-4 sm:w-5 sm:h-5 hidden dark:block" />
		</button>
		<a
			href="mailto:hello@ulises.dev"
			class="bg-primary md:hover:bg-primary-hover text-white font-bold py-1.5 px-3 sm:py-2 sm:px-5 md:px-6 text-xs sm:text-sm md:text-base rounded-lg border-2 border-black dark:border-white shadow-neobrutalism md:hover:translate-x-0.5 md:hover:translate-y-0.5 md:hover:shadow-neobrutalism-hover transition-all whitespace-nowrap"
		>
			Contáctame
		</a>
	</div>
</nav>

<script>
	// Dark mode toggle - Theme is already initialized in <head>
	const themeToggle = document.getElementById('theme-toggle');

	// Toggle theme on button click
	themeToggle?.addEventListener('click', () => {
		document.documentElement.classList.toggle('dark');
		try {
			const isDark = document.documentElement.classList.contains('dark');
			localStorage.setItem('theme', isDark ? 'dark' : 'light');
		} catch (e) {
			console.warn('No se pudo guardar la preferencia de tema:', e);
		}
	});
</script>
